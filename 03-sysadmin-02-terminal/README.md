# Домашнее задание к занятию "3.2. Работа в терминале, лекция 2"

1. Какого типа команда `cd`? Попробуйте объяснить, почему она именно такого типа; опишите ход своих мыслей, если считаете что она могла бы быть другого типа.

Это встроенная в шел команда. Она реализована встроенной потому что это базовая функциональность BASH

![изображение](https://user-images.githubusercontent.com/89098193/135693972-4e9a76a6-8155-420c-8e1c-e7fe188701af.png)



2. Какая альтернатива без pipe команде `grep <some_string> <some_file> | wc -l`? `man grep` поможет в ответе на этот вопрос. Ознакомьтесь с [документом](http://www.smallo.ruhr.de/award.html) о других подобных некорректных вариантах использования pipe.

Судя по подсказке про man grep наверное имеется ввиду опция -с у команды grep. НО мне кажется это не альтернатива pipe, это просто совпадение функционала. Альтернатива pipe будет через промежуточный файл. Либо вариант через переменную, но wc не захотел принимать переменную. 

![изображение](https://user-images.githubusercontent.com/89098193/135694042-a7e7b666-e4dc-4033-94db-6ed465c3ca17.png)


3. Какой процесс с PID `1` является родителем для всех процессов в вашей виртуальной машине Ubuntu 20.04?

![изображение](https://user-images.githubusercontent.com/89098193/135694049-79fc84de-1be3-404f-b561-adbb36fbb4bd.png)


4. Как будет выглядеть команда, которая перенаправит вывод stderr `ls` на другую сессию терминала?

![изображение](https://user-images.githubusercontent.com/89098193/135694064-3c9dd06c-4963-49e5-a7d3-fad307c00abb.png)


5. Получится ли одновременно передать команде файл на stdin и вывести ее stdout в другой файл? Приведите работающий пример.

![изображение](https://user-images.githubusercontent.com/89098193/135694122-32d12947-8bd8-40ff-bbac-c28e8d302820.png)


6. Получится ли находясь в графическом режиме, вывести данные из PTY в какой-либо из эмуляторов TTY? Сможете ли вы наблюдать выводимые данные?

![изображение](https://user-images.githubusercontent.com/89098193/135694130-bfc7bebd-325c-405d-9886-e78cf8075073.png)


7. Выполните команду `bash 5>&1`. К чему она приведет? Что будет, если вы выполните `echo netology > /proc/$$/fd/5`? Почему так происходит?

Создаётся файловый дескриптор 5 и перенаправляется в stdout. Далее создаётся файл 5 в /proc/$$/fd/. Затем stdout команды echo перенаправляется в файл 5. В консоль выводится результат работы echo для текущей сессии.



8. Получится ли в качестве входного потока для pipe использовать только stderr команды, не потеряв при этом отображение stdout на pty? Напоминаем: по умолчанию через pipe передается только stdout команды слева от `|` на stdin команды справа.
Это можно сделать, поменяв стандартные потоки местами через промежуточный новый дескриптор, который вы научились создавать в предыдущем вопросе.

![изображение](https://user-images.githubusercontent.com/89098193/135694171-f9e93907-0495-4a15-bd6b-05639cf4c4ef.png)


9. Что выведет команда `cat /proc/$$/environ`? Как еще можно получить аналогичный по содержанию вывод?

Выводит переменные окружения. Аналогичый вывод от команды env


10 Используя `man`, опишите что доступно по адресам `/proc/<PID>/cmdline`, `/proc/<PID>/exe`.

/proc/PID/cmdline - путь до исполняемого файла процесса
	
/proc/PID/exe - ссылка до файла запущенного для процесса 

11. Узнайте, какую наиболее старшую версию набора инструкций SSE поддерживает ваш процессор с помощью `/proc/cpuinfo`.

![изображение](https://user-images.githubusercontent.com/89098193/135694237-fce0be2e-8f98-4ae2-bb73-75f674b59f4b.png)

12. При открытии нового окна терминала и `vagrant ssh` создается новая сессия и выделяется pty. Это можно подтвердить командой `tty`, которая упоминалась в лекции 3.2. Однако:

    ```bash
	vagrant@netology1:~$ ssh localhost 'tty'
	not a tty
    ```

	Почитайте, почему так происходит, и как изменить поведение.
	
	
![изображение](https://user-images.githubusercontent.com/89098193/135694255-0e8a40c1-6bdf-4cca-aa8f-1e1294979a66.png)

	
13. Бывает, что есть необходимость переместить запущенный процесс из одной сессии в другую. Попробуйте сделать это, воспользовавшись `reptyr`. Например, так можно перенести в `screen` процесс, который вы запустили по ошибке в обычной SSH-сессии.

screen -S my_screen
	
sudo reptyr -T 1742


14. `sudo echo string > /root/new_file` не даст выполнить перенаправление под обычным пользователем, так как перенаправлением занимается процесс shell'а, который запущен без `sudo` под вашим пользователем. Для решения данной проблемы можно использовать конструкцию `echo string | sudo tee /root/new_file`. Узнайте что делает команда `tee` и почему в отличие от `sudo echo` команда с `sudo tee` будет работать.

Команда tee считывает стандартный ввод и записывает его одновременно в стандартный вывод и в файл. В варианте sudo echo string > /root/new_file только команда echo имеет повышенные права, а операция перенаправления выполнятся без прав и соответственно запись не проходит. А во втором варианте запись происходит командой tee, которая запущена с sudo.



 
